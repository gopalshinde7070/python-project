

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Resume Analyzer</title>

<style>
:root {
  --bg: #020617;
  --card: #0f172a;
  --glass: rgba(255,255,255,0.08);
  --green: #22c55e;
  --blue: #38bdf8;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at top, #020617, #000);
  font-family: "Segoe UI", sans-serif;
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
}

.card {
  width: 460px;
  padding: 30px;
  border-radius: 18px;
  background: linear-gradient(145deg, #0f172a, #020617);
  box-shadow:
    0 30px 60px rgba(0,0,0,.7),
    inset 0 0 0 1px rgba(255,255,255,.05);
  transform: perspective(1000px) rotateX(2deg);
}

h1 {
  text-align: center;
  margin-bottom: 25px;
  font-weight: 700;
}

label {
  display: block;
  margin-top: 14px;
  font-size: 14px;
  opacity: .85;
}
select{
    color: black;
}
select, input {
  width: 100%;
  margin-top: 6px;
  padding: 12px;
  border-radius: 10px;
  border: none;
  background: var(--glass);
  
}
select:hover{
    border: 2px solid blue;
   border-color: #eab308;
   padding: 14px;
   border-radius: 90px;
    background: linear-gradient(135deg, var(--green), #310b9b);

    text-shadow: violet;
    cursor: pointer;
    transform: translateY(-1px);
}
input:hover{
    border: 2px solid blue;
   border-color: #eab308;
   padding: 14px;
   border-radius: 90px;
    background: linear-gradient(135deg, var(--green), #310b9b);

    text-shadow: violet;
    cursor: pointer;
    transform: translateY(-1px);
}
    


button {
  margin-top: 22px;
  width: 100%;
  padding: 14px;
  border-radius: 14px;
  border: none;
  background: linear-gradient(135deg, var(--green), #16a34a);
  color: #000;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(34,197,94,.4);
}

button:hover {
  transform: translateY(-1px);
}

/* ===== RESULT ===== */

#result {
  margin-top: 25px;
  display: none;
}

.section {
  margin-top: 20px;
}

.section h3 {
  margin-bottom: 8px;
  font-size: 15px;
  opacity: .9;
}

.progress {
  height: 10px;
  background: #020617;
  border-radius: 20px;
  overflow: hidden;
}

#bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--blue), var(--green));
  transition: width 1s ease;
}

.tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.tag {
  padding: 6px 12px;
  border-radius: 20px;
  background: var(--glass);
  font-size: 12px;
}

.verdict {
  margin-top: 18px;
  padding: 12px;
  text-align: center;
  border-radius: 12px;
  font-weight: 700;
}

.good {
  background: linear-gradient(135deg, #16a34a, #22c55e);
  color: #000;

}

.avg {
  background: linear-gradient(135deg, #facc15, #eab308);
  color: #000;
}
/* ================= THEME 1: NEON GLASS ================= */
.theme-neon {
  background: radial-gradient(circle at top, #020617, #000);
}

.theme-neon .card {
  background: rgba(15, 23, 42, 0.7);
  backdrop-filter: blur(18px);
  border: 1px solid rgba(255,255,255,0.08);
}

.theme-neon button {
  background: linear-gradient(135deg, #22c55e, #38bdf8);
}

/* ================= THEME 2: DARK CYBER ================= */
.theme-cyber {
  background: #000;
}

.theme-cyber .card {
  background: #020617;
  border: 1px solid #22c55e;
  box-shadow: 0 0 30px rgba(34,197,94,.25);
}

.theme-cyber h1 {
  color: #22c55e;
}

.theme-cyber .tag {
  background: #000;
  border: 1px solid #22c55e;
}

/* ================= THEME 3: MINIMAL PRO ================= */
.theme-minimal {
  background: #f8fafc;
  color: #020617;
}

.theme-minimal .card {
  background: #ffffff;
  color: #020617;
  box-shadow: 0 20px 40px rgba(0,0,0,.15);
}

.theme-minimal select,
.theme-minimal input {
  background: #e5e7eb;
  color: #020617;
}

.theme-minimal button {
  background: #020617;
  color: white;
}

/* ================= THEME 4: GRADIENT 3D ================= */
.theme-gradient {
  background: linear-gradient(135deg, #020617, #312e81);
}

.theme-gradient .card {
  background: linear-gradient(145deg, #0f172a, #1e1b4b);
  box-shadow: 0 40px 80px rgba(0,0,0,.8);
}

.theme-gradient button {
  background: linear-gradient(135deg, #a855f7, #22c55e);
}
body .h{
  background-color: #0f172a;
}

</style>

<script>
function getCookie(name) {
  let value = null;
  document.cookie.split(";").forEach(c => {
    c = c.trim();
    if (c.startsWith(name + "=")) {
      value = decodeURIComponent(c.substring(name.length + 1));
    }
  });
  return value;
}

/* LOAD JOBS */
window.onload = () => {
  fetch("/api/jobs/")
    .then(r => r.json())
    .then(d => {
      const s = document.getElementById("job");
      d.data.forEach(j => {
        s.innerHTML += `<option value="${j.id}">${j.job_title}</option>`;
      });
    });
};

/* ANALYZE */
function analyze() {
  const file = document.getElementById("file").files[0];
  const job = document.getElementById("job").value;

  if (!file) return alert("Upload resume");

  const fd = new FormData();
  fd.append("resume", file);
  fd.append("job_description", job);

  fetch("/api/resume", {
    method: "POST",
    headers: { "X-CSRFToken": getCookie("csrftoken") },
    body: fd
  })
  .then(r => r.json())
  .then(res => {
    if (!res.status) return alert("Analysis failed");
    show(res.data);
  });
}

function show(d) {
  document.getElementById("result").style.display = "block";

  document.getElementById("score").innerText = d.rank + "% Match";
  document.getElementById("bar").style.width = d.rank + "%";

  const skills = document.getElementById("skills");
  skills.innerHTML = "";
  d.skills.forEach(s => skills.innerHTML += `<span class="tag">${s}</span>`);

  const dom = document.getElementById("domains");
  dom.innerHTML = "";
  d.project_category.forEach(p => dom.innerHTML += `<span class="tag">${p}</span>`);

  const v = document.getElementById("verdict");
  if (d.rank >= 70) {
    v.innerText = "ðŸ”¥ Strong Match â€“ Highly Recommended";
    v.className = "verdict good";
  } else {
    v.innerText = "âš  Average Match â€“ Improve Skills";
    v.className = "verdict avg";
  }
}
</script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
 <style>
        body {
            background: #0b0f14;
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
        }

        .navbar {
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            padding: 14px 30px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.6);
        }

        .navbar-brand {
            font-size: 1.6rem;
            font-weight: 700;
            color: #00ff88 !important;
        }

        .nav-link {
            color: #f1f5f9 !important;
            margin-left: 18px;
        }

        .nav-link:hover {
            color: #00ff88 !important;
        }
        .card{
          background-color: #0b0f14;
        }
    </style>
</head>
<!-- minimal,cyber,neon,gradient -->
<body class="theme-minimal " class="h" >

 <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand" href="{% url 'homepage' %}">ResumeChecker</a>

    <ul class="navbar-nav ms-auto">
      <li class="nav-item">
        <a class="nav-link" href="{% url 'homepage' %}">Home</a>
      </li>
      <li class="nav-item">
        <a href="{% url 'logout' %}" class="btn btn-danger ms-3">Logout</a>
      </li>
    </ul>
  </div>
</nav>


  

<form style="display:none">{% csrf_token %}</form>

<div class="card">
  <h1>ðŸ¤– AI Resume Analyzer</h1>

  <label>Job Role</label>
  <select id="job"></select>

  <label>Upload Resume (PDF)</label>
  <input type="file" id="file">

  <button onclick="analyze()">Analyze Resume</button>

  <div id="result">
    <div class="section">
      <h3>Match Score</h3>
      <div class="progress"><div id="bar"></div></div>
      <strong id="score"></strong>
    </div>

    <div class="section">
      <h3>Skills</h3>
      <div class="tags" id="skills"></div>
    </div>

    <div class="section">
      <h3>Project Domains</h3>
      <div class="tags" id="domains"></div>
    </div>

    <div id="verdict" class="verdict"></div>
  </div>
</div>
</body>
</html>

  